<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node with Database</title>

</head>

<body>

    <!-- <script>
        const express = require("express");
        const bodyParser = require("body-parser");

        const app= express();
        app.use(bodyParser.json());

        let users =[];
        let userId = 0;

        //?check connection

        app.get("/",(req,res)=>{
            res.json({message:"welcome"});
        });

        //?create a user with id

        app.post("/users",(req,res)=>{
            const user = req.body;
            user.id = ++userId;
            users.push(user);
            res.status(201).json(user);
        });

        //?get all user

        app.get("/users",(req,res)=>{
            res.json(users);
        });

        //?get a user by id

        app.get("/users/:id",(req,res)=>{
            const id= req.params.id;
            const user = users.find((u)=>u.id==id);
            if(user){
                res.json(user);
            }else{
                res.status(404).json({message:"user not found"});
            }
        });

        //? update a user by id

        app.put("/users/:id",(req,res)=>{
            const id= req.params.id;
            const user = users.find((u)=>u.id==id);
            if(user){
                user.fname=req.body.fname;
                user.lname=req.body.lname;
                res.json(user);
            }else{
                res.status(404).json({message:"user not found"});

            };
        });

        //? delete a user by id

        app.delete("/users/:id",(req,res)=>{
            const id= req.params.id;
            const userIndex = users.findIndex((u)=>u.id==id);
            if(userIndex){
                users.splice(userIndex,1);
                res.json(users);
            }else{
                res.status(404).json({message:"user not found"});

            }
        })




        const port=3000;
        app.listen(port,()=>{
            console.log(`app is running on port ${port}`);
        });
    </script> -->
    
</body>

</html>